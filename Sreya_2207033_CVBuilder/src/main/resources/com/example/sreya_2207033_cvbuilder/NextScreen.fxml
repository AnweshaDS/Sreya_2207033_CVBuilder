<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<ScrollPane fx:id="scrollPane" fitToWidth="true" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.sreya_2207033_cvbuilder.NextScreenController">

    <VBox alignment="TOP_CENTER" spacing="15" style="-fx-background-color: #971818;">
        <padding>
            <Insets bottom="20" left="30" right="30" top="20" />
        </padding>

        <!-- Title -->
        <!-- TITLE + PHOTO ROW -->
        <HBox alignment="CENTER" spacing="40">

            <!-- Title -->
            <Label style="-fx-background-color: #FFF8DC;" text="Enter Your Personal Information" textFill="#182c68">
                <font>
                    <Font name="Arial Bold" size="28" />
                </font>
            </Label>

            <!-- Profile Photo Preview -->
            <VBox alignment="CENTER" spacing="10">
                <ImageView fx:id="profileImageView" fitHeight="120" fitWidth="120" preserveRatio="true" style="-fx-border-color: black; -fx-border-width: 2;" />

                <Button onAction="#handleUploadPhoto" style="-fx-background-color: #000080; -fx-text-fill: white;" text="Upload Photo" />
            </VBox>

        </HBox>

        <!-- Main Form Container -->
        <VBox maxWidth="900" spacing="10">

            <!-- Full Name -->
            <HBox spacing="10">
                <Label prefWidth="100" style="-fx-background-color: #FFF8DC;" text="Full Name:">
               <font>
                  <Font name="System Bold" size="12.0" />
               </font></Label>
                <TextField fx:id="fullNameField" prefWidth="700" />
            </HBox>

            <!-- Email -->
            <HBox spacing="10">
                <Label prefWidth="100" style="-fx-background-color: #FFF8DC;" text="Email:">
               <font>
                  <Font name="System Bold Italic" size="12.0" />
               </font></Label>
                <TextField fx:id="emailField" prefWidth="700" />
            </HBox>

            <!-- Phone -->
            <HBox spacing="10">
                <Label prefWidth="100" style="-fx-background-color: #FFF8DC;" text="Phone:">
               <font>
                  <Font name="System Bold" size="12.0" />
               </font></Label>
                <TextField fx:id="phoneField" prefWidth="700" />
            </HBox>

            <!-- Address -->
            <HBox spacing="10">
                <Label prefWidth="100" style="-fx-background-color: #FFF8DC;" text="Address:">
               <font>
                  <Font name="System Bold" size="12.0" />
               </font></Label>
                <TextField fx:id="addressField" prefWidth="700" />
            </HBox>

            <!-- Education -->
            <Label style="-fx-background-color: #FFF8DC;" text="Education:">
                <font>
                    <Font name="System Bold" size="12.0" />
                </font>
            </Label>

            <!-- Education Table -->
            <VBox spacing="10">

                <!-- Table Header -->
                <HBox spacing="10">
                    <Label prefWidth="200" style="-fx-background-color: #FFF8DC; -fx-padding: 5;" text="Degree" />
                    <Label prefWidth="250" style="-fx-background-color: #FFF8DC; -fx-padding: 5;" text="Institute" />
                    <Label prefWidth="120" style="-fx-background-color: #FFF8DC; -fx-padding: 5;" text="CGPA/GPA" />
                    <Label prefWidth="100" style="-fx-background-color: #FFF8DC; -fx-padding: 5;" text="Year" />
                </HBox>

                <!-- List of Education Rows (dynamic) -->
                <VBox fx:id="educationList" spacing="8" />

                <!-- Add Entry Button -->
                <Button onAction="#handleAddEducation" prefWidth="150" style="-fx-background-color: #008080; -fx-text-fill: white; -fx-font-size: 14px;" text="Add Education" />
            </VBox>

            <!-- Skills -->
            <Label style="-fx-background-color: #FFF8DC;" text="Skills:">
            <font>
               <Font name="System Bold" size="12.0" />
            </font></Label>
            <TextArea fx:id="skillsField" prefHeight="120" />

            <!-- Experience -->
            <Label style="-fx-background-color: #FFF8DC;" text="Experience:">
            <font>
               <Font name="System Bold" size="12.0" />
            </font></Label>
            <TextArea fx:id="experienceField" prefHeight="150" />

            <!-- Projects -->
            <Label style="-fx-background-color: #FFF8DC;" text="Projects:">
            <opaqueInsets>
               <Insets />
            </opaqueInsets>
            <font>
               <Font name="System Bold" size="12.0" />
            </font></Label>
            <TextArea fx:id="projectsField" prefHeight="150" />

            <!-- Generate CV Button -->
            <Button onAction="#handleGenerateCV" prefWidth="200" style="-fx-font-size: 18px; -fx-background-color: #0b6fa4; -fx-text-fill: white;" text="Generate CV" />

        </VBox>
    </VBox>

</ScrollPane>
